@import "helpers";

.leaflet-control-attribution { display: none; }

/* Legend */

#legend {

  display:none;

  @include position(false, 10px, 10px, false);
  @include size(100px, false);

  padding: 15px;

  background: $cWhite;
  background: rgba($cWhite, .9);

  border: 1px solid $cGray0;
  @include dark-glow(.3);

  @include font("sans-serif", 13px, $cGray2);
  @include border-radius(2px);

  z-index: 1000;

  ul {
    li {
      margin: 0 0 11px 0;
      padding: 0 0 0 15px;

      &.blue       { @include icons-sprite(map-bullet-blue, $offset-y: 1px); }
      &.light_blue { @include icons-sprite(map-bullet-light_blue, $offset-y: 1px); }
      &.light_red  { @include icons-sprite(map-bullet-light_red, $offset-y: 1px); }
      &.red        { @include icons-sprite(map-bullet-red, $offset-y: 1px); }
    }
    li:last-child { margin: 0; }
  }
}

/* Zoom */

#zoom {

  $zoomWidth: 43px;
  $zoomHeight: 36px; // distance from the top of the canvas until the middle line

  position:absolute;

  $url: "icons/map-zoom.png";

  top:  15px;
  left: 15px;

  z-index: 1000;

  .zoom_in,
  .zoom_out { display:block; position:relative; width: $zoomWidth; height: $zoomHeight; cursor: pointer; }

  .zoom_in {
    background: transparent url($url) no-repeat 0 0;
    &:hover  { background: transparent url($url) no-repeat -1*$zoomWidth 0; }
    &:active { background: transparent url($url) no-repeat -2*$zoomWidth 0; }
  }

  .zoom_out {
    background: transparent url($url) no-repeat 0 -1*$zoomHeight;
    &:hover  { background: transparent url($url) no-repeat -1*$zoomWidth -1*$zoomHeight; }
    &:active { background: transparent url($url) no-repeat -2*$zoomWidth -1*$zoomHeight; }
  }
}


/* Other stuff */

.leaflet-popup-content label { width:100%; margin:0; padding:0; font:bold 12px Arial; color:#333333; }
.leaflet-popup-content p     { width:100%; margin:2px 0 3px!important; padding:0; font:normal 12px Arial; color:#666666; }

$width: 216px;

/* CartoDB popup*/

.infowindow {
  position: absolute;
  display: block;
  width: $width;
  padding: 0;
  -webkit-transform: translateZ(10000px); /*Hack for Safari*/

  .cartodb-popup:hover {
    cursor: default;
  }

  .cartodb-popup a.cartodb-popup-close-button {

    @include position(2px, 3px, false, false);
    @include size(22px, 15px);

    padding: 4px 0 3px 0;

    background: none;

    text-align: center;
    font-weight: bold;
    @include font("sans-serif", 15px, $cGray2);

    text-decoration: none;
    line-height: 15px;
    text-indent: 0;
    overflow: visible;
  }

  .cartodb-popup a.cartodb-popup-close-button:hover {
    color: $cGray1;
    cursor: pointer;
  }

  .cartodb-popup .cartodb-popup-content-wrapper {
    width: 186px;
    padding: 25px 18px 5px 10px;
    margin: 0;

    background: url("icons/infowindow.png") 0 top;
    border: none;

    box-shadow: none;
  }

  .cartodb-popup .cartodb-popup-content {
    width: 186px;
    max-height: 200px;
    padding: 0;
    margin: 0;
  }

  .cartodb-popup .cartodb-popup-content label {
    display: block;
    width: auto;
    padding: 0 0 0 5px;
    font: normal 11px Arial;
    color: #B3B3B3;
    text-shadow: 0 1px white;
  }

  .cartodb-popup .cartodb-popup-content p {
    display: block;
    width: 170px;
    max-width: 170px;
    padding: 2px 4px!important;
    margin: 2px 0 7px!important;
    font: bold 11px 'Helvetica',Arial;
    color: $cGray2;
    border: none;
    background: none;
    text-shadow: 0 1px white;
  }

  .cartodb-popup .cartodb-popup-content p.empty {
    font-weight: normal;
    font-style: italic;
    color: #b7b7b7;
  }

  .cartodb-popup .cartodb-popup-tip-container {
    @include size($width, 36px);
    margin: 0;
    background: url("icons/infowindow.png") no-repeat right top;
  }

  .cartodb-popup .cartodb-popup-tip-container label {
    float: left;
    margin: 5px 0 0 3px;
    font: normal 11px Arial;
    color: #B3B3B3;
    text-shadow: 0 1px white;
  }

  .cartodb-popup .cartodb-popup-tip-container label strong {
    font: bold 11px 'Helvetica',Arial;
    color: $cGray2;
    text-shadow: 0 1px white;
  }
}
